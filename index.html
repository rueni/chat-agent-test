<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1"
    />
    <title>Customer Support</title>
  </head>
  <body>
    <script type="text/javascript">
      function initEmbeddedMessaging() {
        try {
          // Override default behavior and hide the chat button at initialization
          embeddedservice_bootstrap.settings.hideChatButtonOnLoad = false;
          embeddedservice_bootstrap.settings.language = "en_US"; // For example, enter 'en' or 'en-US'

          window.addEventListener("onEmbeddedMessagingReady", () => {
            // Send data to Salesforce
            embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
              Program_Type: "One Pass Select",
              Rally_Id: "11098324",
              Enterprise_Id: "123456",
              HealthSafe_Id: "98765443",
              Date_Of_Birth: "2000-12-15",
            });
          });

          embeddedservice_bootstrap.init(
            "00DDj0000009RU6",
            "chat_test",
            "https://rallyhealth--chriskim.sandbox.my.site.com/ESWchattest1692047829433",
            {
              scrt2URL:
                "https://rallyhealth--chriskim.sandbox.my.salesforce-scrt.com",
            }
          );
        } catch (err) {
          console.error("Error loading Embedded Messaging: ", err);
        }
      }
    </script>
    <script
      type="text/javascript"
      src="https://rallyhealth--chriskim.sandbox.my.site.com/ESWchattest1692047829433/assets/js/bootstrap.min.js"
      onload="initEmbeddedMessaging()"
    ></script>
  </body>
</html>
